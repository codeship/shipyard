class Shipyard{constructor(t,s){return s?(this.els=[],document.querySelectorAll(t).forEach(t=>{this.els.push(new s(t))})):this.el="string"==typeof t?document.querySelector(t):t,this}on(t,s,e){return"string"!=typeof s&&(e=s),("string"==typeof s?this.find(s):[this]).forEach(s=>{t.split(" ").forEach(t=>{s.el.addEventListener(t,e)})}),this}trigger(){return arguments[0].split(" ").forEach(t=>{this.el.dispatchEvent(new CustomEvent(t,{detail:arguments[1]}))}),this}find(t){let s=[];return this.el.querySelectorAll(t).forEach(t=>{s.push(new Shipyard(t))}),s}filter(t){return this.els.filter(s=>s.el==document.querySelector(t))[0]}child(t){return this.el.querySelector(t)}data(t){return this.el.dataset[t]}html(t){return this.el.innerHTML=t,this}css(t,s){if(!s)return window.getComputedStyle(this.el).getPropertyValue(t);this.el.style[t]=s}attr(t){return this.el.getAttribute(t)}addClass(t){return this.el.classList.add(t),this}removeClass(t){return this.el.classList.remove(t),this}toggleClass(t,s){return this.el.classList.toggle(t,s),this}}class Scroll extends Shipyard{constructor(t){super(t),this.on("scroll resize",this.scroll).trigger("scroll")}scroll(){shipyard.toggleClass("scrolling",window.pageYOffset>0),shipyard.toggleClass("scroll-top",window.pageYOffset<=0),shipyard.toggleClass("scroll-bottom",window.pageYOffset+window.innerHeight>=document.body.scrollHeight)}}class Hamburger extends Shipyard{constructor(t){super(t),this.on("click",this.toggle)}toggle(t){t.preventDefault(),shipyard.toggleClass("hamburger-button-clicked")}}class Alert extends Shipyard{constructor(t){super(t),this.on("show",t=>{this.show(t)}),this.on("close",t=>{this.close(t)}),this.on("click","[shipyard=alert-close]",t=>{this.close(t)}),this.timer=this.child(".alert-timer"),this.timer&&(this.timer=new AlertTimer(this.timer,this))}options(t){this.on("afterClose",t.afterClose)}show(t){this.options(t.detail),this.removeClass("alert-closed"),this.timer&&this.timer.trigger("start")}close(t){t.preventDefault(),this.addClass("alert-closed"),this.trigger("afterClose")}}class AlertTimer extends Shipyard{constructor(t,s){super(t),this.alert=s,this.duration=this.data("duration"),this.duration&&this.css("animation-duration",`${this.duration}s`),this.on("start",()=>{this.start()})}start(){setTimeout(()=>{this.end()},1e3*this.duration)}end(){this.alert.trigger("close")}}class Accordion extends Shipyard{constructor(t){super(t),this.on("toggle",()=>{this.toggle()})}toggle(){this.toggleClass("accordion-closed")}}class AccordionTrigger extends Shipyard{constructor(t){super(t),this.accordion=new Accordion(this.attr("accordion")),this.on("click",()=>{this.accordion.trigger("toggle")})}}class Modal extends Shipyard{constructor(t){super(t),this.on("open",()=>{this.open()}),this.on("click","[modal-close]",()=>{this.close()})}open(){this.removeClass("display-none"),shipyard.addClass("modal-open")}close(){this.addClass("display-none"),shipyard.removeClass("modal-open")}}class ModalTrigger extends Shipyard{constructor(t){super(t),this.modal=new Modal(`[modal=${t.getAttribute("modal-trigger")}]`),this.on("click",()=>{this.modal.trigger("open")})}}var shipyard=new Shipyard(document.documentElement);shipyard.windowScroll=new Scroll(window),shipyard.hamburger=new Shipyard("[shipyard=hamburger]",Hamburger),shipyard.alerts=new Shipyard("[shipyard=alert]",Alert),shipyard.modalTriggers=new Shipyard("[modal-trigger]",ModalTrigger),shipyard.accordionTriggers=new Shipyard("[accordion]",AccordionTrigger);class AlertTrigger extends Shipyard{constructor(t){super(t),this.alert=shipyard.alerts.filter(this.attr("alert-trigger")),this.on("click",t=>{this.click(t)})}click(t){t.preventDefault(),this.addClass("btn-loading"),this.el.blur(),this.alert.trigger("show",{afterClose:()=>{this.reset()}})}reset(){this.removeClass("btn-loading")}}class ShadeColor extends Shipyard{constructor(t){super(t),this.html(this.rgbToHex(this.css("background-color")))}rgbToHex(t){if(t.match(/rgba/))return"#";return`#${t.substr(4,t.indexOf(")")-4).split(",").map(t=>String("0"+parseInt(t).toString(16)).slice(-2)).join("")}`}}shipyard.alertTriggers=new Shipyard("[alert-trigger]",AlertTrigger),shipyard.colors=new Shipyard("[shade-color]",ShadeColor);